<!DOCTYPE html>

<html>
<head>
<meta charset="EUC-KR">
<title>Insert title here</title>
</head>
<body>
	<button id="btnDetail">User info</button>
	<button id="btnpList">User 목록</button>
	<button id="btnInsert">User 등록</button>

	<script>
        window.onload=function(){
        	document.querySelector("#btnDetail").onclick=async function(){
        		
        		try{
        			let response=await fetch('/mybatis/UserInfo/ssafy');
        			let data=await response.json();
        			console.log(data);
        		}catch(error){
        			console.error(error);
        		}
        	}
        	
document.querySelector("#btnpList").onclick=async function(){
        		
        		try{
        			let response=await fetch('/mybatis/userList');
        			let data=await response.json();
        			console.log(data);
        		}catch(error){
        			console.error(error);
        		}
        	}
        	//자바 스크립트 객체s
        	var userData={
  
        			userId:'you',
        			userName: '길동',
        			email:'you@gildong.com',
        			userAge:26
        	}
document.querySelector("#btnInsert").onclick=async function(){
	let urlParams=new URLSearchParams(userData);
	let fetchOptions={
			method:'POST',
			body:urlParams
	}
	
	try{
		let response=await fetch('/mydb/Register',fetchOptions);
		let data=await response.json();
		console.log(data);
	}catch(error){
		console.error(error);
	}
}
        	
    
        }
    </script>
</body>
</html>